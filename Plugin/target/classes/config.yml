# =====================================
# Plugin Advanced Configuration
# =====================================
# This configuration allows you to enable/disable and configure every aspect of the plugin
# Set 'enabled: false' on any module to completely disable it

# =====================================
# General Settings
# =====================================
settings:
  language: de_DE
  auto-save-interval: 300 # Auto-save player data every X seconds (0 = disabled)
  debug-mode: false
  check-player-exists: true # Check if player exists for /joinmessage set

# =====================================
# Integration Settings
# =====================================
integrations:
  # LuckPerms Integration - Use LuckPerms for permissions instead of built-in rank system
  luckperms:
    enabled: false # Set to true if you have LuckPerms installed
    use-for-permissions: true # Use LuckPerms permissions instead of built-in system
    sync-display-names: true # Sync prefix/suffix from LuckPerms
    primary-group-only: true # Only use primary group for prefix/suffix

  # PlaceholderAPI Integration - Provides placeholders for other plugins
  placeholderapi:
    enabled: false # Set to true if you have PlaceholderAPI installed
    register-expansions: true # Register plugin placeholders
  
  # Vault Integration - For economy support
  vault:
    enabled: false # Set to true if you have Vault installed
    use-vault-economy: true # Use Vault for economy instead of built-in

# =====================================
# Database Settings
# =====================================
# Choose between SQLite (local) or MySQL (network-wide)
database:
  bungeecord-mode: false  # Enable for BungeeCord/network mode (uses MySQL)
  mysql:
    host: localhost
    port: 3306
    database: minecraft_ranks
    username: root
    password: password
    max-pool-size: 10
    min-idle: 2
    connection-timeout: 30000 # milliseconds
    max-lifetime: 1800000 # 30 minutes

# =====================================
# Module System - Enable/Disable Features
# =====================================
modules:
  # Rank System
  ranks:
    enabled: true
    use-builtin-system: true # Use built-in rank system (disable if using LuckPerms only)
    default-rank: default
    permission-based: false # Use permission nodes instead of database ranks

  # Nametag/Scoreboard System
  nametags:
    enabled: true
    update-method: individual # individual = better performance, all = legacy method
    update-on-join: true
    update-on-rank-change: true
    override-other-teams: false # Set to true to override teams from other plugins (not recommended)
    # QoL: fine-tune nametags
    name-color: "" # e.g. "#55FF55" or "&a". Empty = keep default
    hide-vanished-nametags: true # Hide nametags for vanished players
    nametag-visibility: "always" # always | never | hide-for-other-teams
    collision: "always" # always | never | push-other-teams

  # Tab List Customization
  tablist:
    enabled: true
    update-interval: 20 # ticks (20 = 1 second)
    show-prefix: true
    show-suffix: true

  # Custom Prefixes/Suffixes
  prefixes:
    enabled: true
    allow-colors: true
    max-length: 32
    override-rank-prefix: true # Custom prefix overrides rank prefix

  suffixes:
    enabled: true
    allow-colors: true
    max-length: 32
    override-rank-suffix: true

  # Nicknames
  nicknames:
    enabled: true
    min-length: 3
    max-length: 16
    allow-colors: true
    allow-duplicates: false
    blocked-names:
      - Admin
      - Owner
      - Staff
      - Moderator

  # Join/Quit Messages
  join-messages:
    enabled: true
    custom-messages: true # Allow players to set custom join messages
    default-message: "&7[&a+&7] &e%player% &7hat den Server betreten"
    allow-colors: true
    max-length: 100
    examples:
      - "&7[&a+&7] &e%player%"
      - "&8[&6★&8] &6%player%"
      - "&#FF0000[VIP] &e%player%"
      - "<gradient:#FF0000:#00FF00>%player%</gradient>"
      - "<rainbow>%player%</rainbow>"

  quit-messages:
    enabled: true
    default-message: "&7[&c-&7] &e%player% &7hat den Server verlassen"

  # Home System
  homes:
    enabled: true
    max-homes: 5
    max-homes-vip: 10 # Requires permission: essentials.home.vip
    teleport-delay: 3 # seconds (0 = instant, bypassed with permission)
    cancel-on-move: true

  # Warp System
  warps:
    enabled: true
    teleport-delay: 0 # seconds
    cancel-on-move: false
    per-warp-permissions: false # Require permission: essentials.warp.<warpname>

  # Spawn System
  spawn:
    enabled: true
    teleport-on-join: false
    teleport-on-death: false
    teleport-delay: 3 # seconds

  # Teleportation Commands
  teleportation:
    enabled: true
    request-timeout: 60 # seconds
    teleport-delay: 3 # seconds for /tpa
    cancel-on-move: true
    max-distance: 0 # 0 = unlimited
    warmup-time: 3 # seconds warmup before teleport
    safe-teleport: true # Find safe landing spot
    
    # /back command - return to previous location
    back:
      enabled: true
      save-on-death: true
      save-on-teleport: true
    
    # /tprandom command - random teleport
    random:
      enabled: true
      max-distance: 5000
      min-distance: 100
      cooldown: 300 # seconds

  # Workbench Access Commands
  workbenches:
    enabled: true
    craftingtable: true
    anvil: true
    enderchest: true
    grindstone: true
    smithingtable: true
    stonecutter: true
    loom: true
    cartography: true

  # Cosmetic Features
  cosmetics:
    enabled: true

    sit:
      enabled: true
      allow-on-stairs: true
      allow-on-slabs: true
      # Vertical offset for sitting position (lower = sit lower)
      # Recommended between -1.4 and -0.8 depending on seat block
      y-offset: -1.2
    
    crawl:
      enabled: true
      # Crawl makes players swim on ground for crawling effect
      
    lay:
      enabled: true
      # Lay creates invisible armor stand for laying down pose
      
    afk:
      enabled: true
      broadcast: true # Broadcast when players go AFK/return
      auto-afk-enabled: true # Automatically mark players as AFK
      auto-afk-time: 300 # Seconds of inactivity before auto-AFK (0 = disabled)
      
    ride:
      enabled: true
      # Allow players to ride other players or entities

    camera:
      enabled: true
      max-distance: 300
      spectator-effects: true
      restore-on-damage: true
      restore-on-disconnect: true

    vanish:
      enabled: true
      hide-from-tablist: false
      silent-join-quit: true
      night-vision: true

  # Basic Commands
  basic-commands:
    enabled: true

    heal:
      enabled: true
      cooldown: 300 # seconds (0 = no cooldown)
      cooldown-bypass-permission: basiccommands.heal.nocooldown

    feed:
      enabled: true
      cooldown: 300
      cooldown-bypass-permission: basiccommands.feed.nocooldown

    fly:
      enabled: true
      enable-on-join: false # Remember fly state
      disable-on-damage: false

    clearinventory:
      enabled: true
      confirm-required: true

  # Gamemode Commands
  gamemode:
    enabled: true
    creative: true
    survival: true
    spectator: true

  # Admin Commands
  admin-commands:
    enabled: true

    kick:
      enabled: true
      broadcast: true

    invsee:
      enabled: true
      allow-modify: true

    time:
      enabled: true
      day: true
      night: true

    weather:
      enabled: true
      sun: true
      rain: true

  # Sleep System
  sleep:
    enabled: true
    percentage: 0.01 # 1% of players need to sleep
    min-players: 1

  # Economy System
  economy:
    enabled: false # Enable economy features
    starting-balance: 1000.0
    currency-symbol: "$"
    currency-name: "Dollar"
    currency-plural: "Dollars"
    command-costs:
      enabled: false # Charge money for commands
      heal: 100
      feed: 50
      home: 10
      warp: 5
      tpa: 20

  # Kit System
  kits:
    enabled: false # Enable kit system
    cooldowns:
      enabled: true
      persist-on-restart: true

  # Private Messaging System
  messaging:
    enabled: false # Enable private messages
    format: "&7[&dPM&7] &f%sender% &7-> &f%receiver%&7: %message%"
    sound:
      enabled: true
      volume: 0.5
      pitch: 1.5
    ignore:
      enabled: true
      max-ignored: 50

  # Moderation System
  moderation:
    enabled: false # Enable moderation tools
    ban:
      enabled: true
      broadcast: true
      ip-ban-on-evasion: true
    mute:
      enabled: true
      prevent-commands: true # Prevent muted players from using commands
      allowed-commands: # Commands muted players can still use
        - "/msg"
        - "/help"
    warn:
      enabled: true
      max-warnings: 3
      auto-ban: true # Auto-ban when max warnings reached
      warn-expiry: 2592000 # 30 days in seconds (0 = never expire)

# =====================================
# Cooldown System
# =====================================
cooldowns:
  enabled: true
  persist-on-restart: true # Save cooldowns to disk
  bypass-permission: plugin.cooldown.bypass

  # Per-command cooldowns (seconds)
  commands:
    heal: 300
    feed: 300
    home: 5
    warp: 5
    spawn: 10
    tpa: 30

# =====================================
# Chat Integration
# =====================================
# ⚠ IMPORTANT: If you're using DeluxeChat, ChatControl, or EssentialsX Chat,
#   set chat.enabled to false to avoid conflicts!
chat:
  enabled: true
  format: "%prefix%%player%%suffix%&7: &f%message%"
  use-display-name: true # Use nickname in chat
  color-permission: plugin.chat.color # Permission to use color codes

# =====================================
# Performance Settings
# =====================================
performance:
  async-database-operations: true
  batch-nametag-updates: true
  cache-player-data: true
  cache-duration: 300 # seconds

# =====================================
# Messages
# =====================================
messages:
  prefix: "&8[&6Server&8] "
  no-permission: "&cDu hast keine Berechtigung für diese Aktion!"
  module-disabled: "&cDiese Funktion ist derzeit deaktiviert!"
  cooldown: "&cBitte warte noch %time% Sekunden!"
  player-not-found: "&cSpieler nicht gefunden!"
  teleporting: "&aTeleporation in %time% Sekunden..."
  teleport-cancelled: "&cTeleportation abgebrochen!"
